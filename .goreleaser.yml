before:
  hooks:
    - go mod download

builds:
- main: ./cmd/taskctl
  env:
  - CGO_ENABLED=0
  goos:
    - darwin
    - linux
    - windows
  goarch:
    - 386
    - amd64
  ignore:
      - goos: darwin
        goarch: 386

dist: bin

checksum:
  name_template: checksums.txt

changelog:
  sort: asc
  filters:
    exclude:
      - '^docs:'
      - '^test:'

snapcrafts:
  - name: taskctl
    summary: taskctl
    description: taskctl - developer's routine tasks automation toolkit. Simple modern alternative to GNU Make ðŸ§°
    confinement: devmode
    grade: devel

brews:
  - github:
      owner: taskctl
      name: homebrew-taskctl
    commit_author:
      name: Yevhen Terentiev
      email: yevhen.terentiev@gmail.com
    homepage: https://github.com/taskctl/taskctl

dockers:
  - image_templates:
      - "docker.io/taskctl/taskctl:latest"
      - "docker.io/taskctl/taskctl:{{ .Tag }}"
    skip_push: auto

scoop:
  bucket:
    owner: taskctl
    name: scoop-taskctl
  commit_author:
    name: Yevhen Terentiev
    email: yevhen.terentiev@gmail.com
  homepage: https://github.com/taskctl/taskctl

nfpms:
  -
    homepage: https://github.com/taskctl/taskctl
    maintainer: Yevhen Terentiev <yevhen.terentiev@gmail.com>
    description: taskctl - developer's routine tasks automation toolkit. Simple modern alternative to GNU Make ðŸ§°
    formats:
      - deb
      - rpm

